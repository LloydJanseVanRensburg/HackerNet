<%- include('./partials/header.ejs') %>

<%- include('./partials/navbar.ejs', { isAuth, link: "" }) %>

<div class="container">
  <h1 class="single_thread_header page__title">Edit Poll</h1>

  <form 
    action="/polls/<%= pollData.poll_id %>?_method=PUT"
    method="POST"
  >

    <div class="form_group">
      <label for="forum">Forum</label>
      <select 
        name="forum" 
        id="forum" 
        value="<%= pollData.forum_id %>"
      >

        <% forumsYouFollow.forEach((forum) => { %>
          <option value="<%= forum.forum_id %>"><%= forum.title %></option>
        <% }) %>
      
      </select>
    </div>

    <div class="form_group">
      <label for="title">Title</label>
      <input 
        type="text" 
        name="title" 
        id="title" 
        placeholder="Poll title"
        value="<%= pollData.title %>"
      >
    </div>

    <div class="form_group">
      <label for="question">Question</label>
      <textarea 
        name="question" 
        id="question" 
        rows="5" 
        placeholder="Question Content"
      ><%= questionData.content %></textarea>
    </div>

    <% answerData.forEach((answer, idx) => { %>
      <div class="form_group">

        <label for="ans<%= idx + 1%>">Answer One</label>
        <input 
          name="ans<%= idx + 1%>" 
          id="ans<%= idx + 1%>" 
          type="text"
          value="<%= answer.content %>" 
        >

      </div>
    <% }) %>

    <button class="btn btn-primary">Edit</button>
  </form>
</div>

<%- include('./partials/footer.ejs') %>

